{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="icon" href="https://nskfinancialhub.com/static/media/bglogo.899cd75495f0295e3feb.png" type="image/png">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.11.3/font/bootstrap-icons.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="/static/css/Home.css" />
  <link rel="stylesheet" href="/static/css/Contact.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Cabin:ital,wght@0,400..700;1,400..700&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&family=Jost:ital,wght@0,100..900;1,100..900&family=Lora:ital,wght@0,400..700;1,400..700&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Outfit:wght@100..900&family=Roboto:ital,wght@0,100..900;1,100..900&family=Rubik:ital,wght@0,300..900;1,300..900&family=Urbanist:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Cabin:ital,wght@0,400..700;1,400..700&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&family=Jost:ital,wght@0,100..900;1,100..900&family=Lora:ital,wght@0,400..700;1,400..700&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Outfit:wght@100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100..900;1,100..900&family=Rubik:ital,wght@0,300..900;1,300..900&family=Urbanist:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet" />
  {% comment %} bootstrap cdn links {% endcomment %}
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>

</head>

<body>
  <div class="contactMain">
    <div class="BannerContainer">
      <div class="carousel-inner">
        <div class="carousel-item active">
          {% if contact.banner_image %}
          <img src="{{ contact.banner_image.url }}" class="d-block w-100" alt="..." />
          {% else %}
          <img src="/media/contact/contactBanner.png" class="d-block w-100" alt="..." />
          {% endif %}
          <div class="carousel-caption ">
            <p class="banner-subtitle">
              <span class="me-1"><a href="{% url 'home' %}">Home</a></span><span
                class="bi bi-chevron-right me-2"></span><span>Contact Us</span>
            </p>
            <p class="banner-title">Contact Us</p>

          </div>
        </div>
      </div>
    </div>
    <!-- contact form -->
    <div class="contact-container">
      <div class="contact-left">
        <div class="contact-title">Catch Us Here</div>
        <div class="contact-subtitle">
          Get in Touch for Expert Financial Guidance
        </div>
        <div class="contact-desc">
          we're dedicated to delivering personalized financial solutions with
          expertise and integrity, whether you're an individual or a business.
        </div>
        <div class="contact-mail">
          <span class="bi bi-envelope-at me-2" style="color: #02a66a"></span>{{contact.email}}
        </div>
        <div class="contact-mobile">
          <span class="bi bi-whatsapp me-2" style="color: #02a66a"></span>{{contact.whatsapp_no}}
        </div>
        <div class="contact-mobile">
          <span class="bi bi-telephone me-2" style="color: #02a66a"></span>{{contact.mobile_no}}
        </div>
       
      </div>
      <div class="contact-right">
        <div class="form-title">Make custom request</div>
        <div class="form-subtitle">Tell about your project</div>
      	<form id="reachusForm">
          <div>
            <label>Full Name</label>
            <div class="inputField">
              <span class="bi bi-person"></span>
              <input type="text" id="name" name="name" placeholder="Enter Full Name" required 
                   pattern="[A-Za-z\s]+" title="Only alphabets and spaces are allowed" />
            </div>
            <small class="error-message" id="nameError"></small>
          </div>
          
          <script>
            document.getElementById("name").addEventListener("input", function () {
              this.value = this.value.replace(/[^A-Za-z\s]/g, ""); 
            });
          </script>
          
          <style>
            .error-message {
              color: red;
              font-size: 12px;
            }
          </style>							
          <div>
            <label>Email Address</label>
            <div class="inputField">
              <span class="bi bi-envelope"></span>
              <input type="email" id="email" name="email" placeholder="Enter Email Address"
                required />
            </div>
          </div>
          <div>
            <label>Your Message</label>
            <div class="inputField">
              <span class="bi bi-chat-left-text"></span>
              <textarea id="message" name="message" placeholder="Type here" required></textarea>
            </div>
          </div>
          <div>
            <button type="submit" class="btnSignin">Get a Quote</button>
          </div>
        </form>
        <p id="responseMessage" style="color: green;"></p>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

        <script>
          document.querySelectorAll(".inputField input, .inputField textarea").forEach(input => {
            input.addEventListener("focus", function () {
              let icon = this.previousElementSibling; // Selects the icon before the input
              if (icon && icon.classList.contains("bi")) {
                icon.style.opacity = "0"; // Hide icon when input is focused
                icon.style.pointerEvents = "none"; // Disable interactions
              }
              if (!this.dataset.placeholder) {
                this.dataset.placeholder = this.placeholder; // Store original placeholder only once
              }
              this.placeholder = ""; // Remove placeholder when focused
            });
          
            input.addEventListener("blur", function () {
              let icon = this.previousElementSibling;
              if (icon && icon.classList.contains("bi")) {
                if (this.value.trim() === "") {
                  // If input is empty, restore icon and placeholder
                  icon.style.opacity = "1";
                  icon.style.pointerEvents = "auto";
                  this.placeholder = this.dataset.placeholder || ""; // Restore placeholder safely
                }
              }
            });
          });
  
      </script>
      
        <script>
          $(document).ready(function () {
            $("#reachusForm").submit(function (e) {
              e.preventDefault(); 

              $.ajax({
                type: "POST",
                url: "{% url 'reachus' %}",
                data: {
                  name: $("#name").val(),
                  email: $("#email").val(),
                  message: $("#message").val(),
                  csrfmiddlewaretoken: "{{ csrf_token }}",
                },
                success: function (response) {
                  $("#responseMessage").text(response.message);
                  $("#reachusForm")[0].reset();
                },
                error: function (xhr) {
                  $("#responseMessage").text("Error submitting the form.");
                }
              });
            });
          });
        </script>
      </div>
    </div>
  </div>
  {% include "footer.html" %}
</body>
</html>